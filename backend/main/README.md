# Nishiki Backend

This is Nishiki's backend. The entry point is handler.ts under the src directory.

## Directory Structure

The actual code is located in the /src directory. The /test folder has test files.
The /other directory is for developing.

## Environment

This project uses docker compose to create the test environment.
If you don't install it on your machine yet, install [it](https://www.docker.com/get-started/).
The commands explained on this page should be run on the bash of the docker container.

To enter inside the container, run the following command.

```shell
$ docker compose run app bash
```

When the package is changed or you try to run the first time, you have to install packages.

```shell
$ npm ci
```

## Test

This project uses [vitest](https://vitest.dev/) to run tests and which configuration file is vitest.config.ts. 

```shell
$ npm run test
```

## API Documentation

If you need to check the API document, you run the following command and the API document will be generated on the */docs* directory.
It is generated by [typedoc](https://typedoc.org/). The config file is *typedoc.json*.
This project uses a [type theme hierarchy](https://github.com/DiFuks/typedoc-theme-hierarchy).

```shell
$ npm run typedoc
```

If you want to use [watch mode](https://typedoc.org/options/other/#watch), run following command:

```shell
$ npm run typedoc:watch
```
